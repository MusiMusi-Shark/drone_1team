Main is for final code.
Will update before testing.
